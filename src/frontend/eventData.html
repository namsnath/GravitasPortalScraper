<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/css/tabulator.min.css" rel="stylesheet">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/js/tabulator.min.js"></script>

    </head>


    <body>
        <div id="data-table"></div>
        <div id="try"></div>
    </body>

    <script>
        $(document).ready(function() {

            $("#data-table").tabulator({
                columns: [
                    {title: "Name", field: "name", sortable: true},
                    {title: "Phone Number", field: "phno", sortable: false},
                    {title: "Type", field: "type", sortable: true},
                    {title: "Status", field: "status", sortable: true},
                    {title: "Email", field: "email", sortable: false},
                ],
            });
            //$("#data-table").tabulator("setData", json);
            //$("#try").text(window.location.pathname);

            $.get('http://localhost:3000' + window.location.pathname +'/getData', function(response) {
                //response is already a parsed JSON
                $("#data-table").tabulator("setData", response);

            });

        });
    </script>
</html>
